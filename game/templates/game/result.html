{% extends 'base.html' %}

{% block content %}
    <br/>
    <br/>
    <br/>
    <br/>

    <div class='container-fluid d-flex justify-content-center text-center align-items-center flex-column' style="height: 345px;">
        <i class="fas fa-gamepad fa-4x" style="color: orange;"></i>
        <br />
        <h1>게임 전적</h1>

        <span>현재 플레이어의 게임 전적을 보여주는 페이지입니다.</span>
        <p style="font-size: 20px; font-weight: bold;">현재 플레이어: {{user.username}}</p> 
        <br />

        {% for game in results %}
            <div>
                <span style="margin-right: 20px; font-weight: bold;">{{game.pk}}-{{game.host}}  VS  {{game.guest}}</span>
                {% if game.is_end == False %}
                    {% if user.username == game.host.username %}
                        진행중...
                        <a href="{% url 'game:game_delete' game.id %}" class="btn btn-outline-danger" style="margin-right: 10px; margin-left: 10px;">게임 취소</a>


                    {% comment %} {% if user.username == game.host %} {% endcomment %}
                    {% else %}
                        <a href="{% url 'game:counterattack' game.pk %}" class="btn btn-outline-success">반격 하기</a>
                        

                    {% endif %}
                {% else %}          
                {{ game.rule }}      
                    {% if user.username == game.host.username %}
                        {{ game.result }}


                    {% else %}
                        {% if game.result == 'win' %}
                            lose
                        {% elif game.result == 'lose' %}
                            win
                        {% else %}
                            draw
                        {% endif %}
                    {% endif %}
                {% endif %}
                    

                <span><a href="{% url 'game:game_info' game.pk %}" class="btn btn-outline-success">게임정보</a></span>
            </div>

        {% endfor %}
    </div>
    
{% endblock %}